# RumiCar同士のBluetooth通信(ダンスバージョン)

1. 必要なもの

1.1 ESP32のCMとRumiCarそれぞれ2セット

1.2 新品の電池　　<-　重要、消費電力が大きいので元気のよい電池を使わないとCMにリセットが掛かる場合があります

2. 仕組み

2.1 クライアント側(スレーブ)RumiCarはマスター側のRumiCarと同じ動きをします。マスター側のRumiCarはダンスをします。クライアント側のRumiCarはマスターに合わせて同じようにダンスをします。

2.2 Bluetoothのマスター側はクライアントの名前を探して接続します。クライアント側のBluetoothの名前は"RumiCar"です。MACアドレスを指定して接続しに行った方が早いのですが、それだと都度CMのMACアドレスを調べてプログラムを変更する必要があり面倒なので、今回は名前で検索するようにしています。皆様がプログラムを使う時はプログラムの変更なしにそのまま使えます

2.3 マスター側がクライアントに接続しにいきます。ですのでまずクライアント側のRumiCarを先に起動する必要があります

3. マスター側ロジック

3.1 センサーの値は使わずに予めプログラムされたとおりにダンスを実行します

4. クライアント側ロジック

4.1 自分の測距モジュールの値には関係なくマスター側RumiCarの挙動と同じことをしようとします。つまりマスターと同じようにダンスをします。

4.2 クライアントプログラムはmasterAndClinentのクライアント側と同じものです
